{
  "version": "2.6.2",
  "timeout_seconds": 1200,
  "max_retries": 1,
  "llms": {
    "claude": true,
    "codex": true,
    "gemini": true,
    "copilot": true
  },
  "llm_mode": "mixed_claude_fallback",
  "llm_modes": {
    "mixed_claude_fallback": {
      "description": "Mixed LLMs, claude as safety net",
      "fallback": {"codex": "claude", "gemini": "claude", "copilot": "claude"},
      "synthesis_llm": "claude"
    },
    "mixed_codex_fallback": {
      "description": "Mixed LLMs, codex as safety net",
      "fallback": {"claude": "codex", "gemini": "codex", "copilot": "codex"},
      "synthesis_llm": "codex"
    },
    "mixed_gemini_fallback": {
      "description": "Mixed LLMs, gemini as safety net",
      "fallback": {"claude": "gemini", "codex": "gemini", "copilot": "gemini"},
      "synthesis_llm": "gemini"
    },
    "mixed_copilot_fallback": {
      "description": "Mixed LLMs, copilot as safety net",
      "fallback": {"claude": "copilot", "codex": "copilot", "gemini": "copilot"},
      "synthesis_llm": "copilot"
    },
    "single_llm": {
      "description": "Single LLM for everything",
      "override_llm": "",
      "fallback": {},
      "synthesis_llm": ""
    }
  },
  "pipeline_mode": "default",
  "discovery_pipelines": {
    "default": [
      {
        "step": 1,
        "name": "Initial Analysis",
        "persona": "mighty",
        "llm": "codex",
        "context_mode": "prompt_only",
        "prompt_prefix": "You are MightyVern. Analyze this idea and provide comprehensive initial analysis including: problem space, technical requirements, proposed architecture, unknowns and risks."
      },
      {
        "step": 2,
        "name": "Refinement",
        "persona": "great",
        "llm": "claude",
        "context_mode": "previous",
        "prompt_prefix": "You are Vernile the Great. Review and refine this analysis. Identify gaps, add architectural considerations, consider maintainability and elegance."
      },
      {
        "step": 3,
        "name": "Chaos Check",
        "persona": "yolo",
        "llm": "gemini",
        "context_mode": "previous",
        "prompt_prefix": "You are YOLO Vern. Challenge and stress-test this plan. What could go wrong? What unconventional approaches exist? No sacred cows."
      },
      {
        "step": 4,
        "name": "Consolidation",
        "persona": "mighty",
        "llm": "codex",
        "context_mode": "all_previous",
        "prompt_prefix": "You are MightyVern. Synthesize all inputs into a master plan. Merge insights, resolve contradictions, create unified vision, prioritize features."
      },
      {
        "step": 5,
        "name": "Architect Breakdown",
        "persona": "architect",
        "llm": "claude",
        "context_mode": "consolidation",
        "prompt_prefix": "You are Architect Vern. Your ONLY job is to break down the master plan into numbered implementation tasks. Do NOT write an essay, review, or analysis. Output ONLY a structured task list.\n\nFORMAT REQUIREMENTS (mandatory — the output is machine-parsed):\n- Every task MUST start with exactly: ### TASK N: Title\n- Number tasks sequentially starting at 1\n- Each task MUST include these bold fields:\n  **Description:** what needs to be done\n  **Acceptance Criteria:**\n  - bullet list of done-when conditions\n  **Complexity:** S|M|L|XL\n  **Dependencies:** Task N references or None\n  **Files:** list of files likely touched\n\nExample task:\n### TASK 1: Implement user authentication\n**Description:** Add JWT-based auth middleware\n**Acceptance Criteria:**\n- Login endpoint returns valid JWT\n- Protected routes reject invalid tokens\n**Complexity:** M\n**Dependencies:** None\n**Files:** auth.go, middleware.go, routes.go\n\nProduce 5-15 tasks. Think in systems. Consider failure modes. Make it maintainable."
      }
    ],
    "expanded": [
      {
        "step": 1,
        "name": "Initial Analysis",
        "persona": "mighty",
        "llm": "codex",
        "context_mode": "prompt_only",
        "prompt_prefix": "You are MightyVern. Analyze this idea and provide comprehensive initial analysis including: problem space, technical requirements, proposed architecture, unknowns and risks."
      },
      {
        "step": 2,
        "name": "Refinement",
        "persona": "great",
        "llm": "claude",
        "context_mode": "previous",
        "prompt_prefix": "You are Vernile the Great. Review and refine this analysis. Identify gaps, add architectural considerations, consider maintainability and elegance."
      },
      {
        "step": 3,
        "name": "Reality Check",
        "persona": "mediocre",
        "llm": "claude",
        "context_mode": "previous",
        "prompt_prefix": "You are Vern the Mediocre. Reality-check this plan. What's over-engineered? What can be simplified? Where is cleverness hiding complexity? Cut the fluff, keep what ships."
      },
      {
        "step": 4,
        "name": "Chaos Check",
        "persona": "yolo",
        "llm": "gemini",
        "context_mode": "previous",
        "prompt_prefix": "You are YOLO Vern. Challenge and stress-test this plan. What could go wrong? What unconventional approaches exist? No sacred cows."
      },
      {
        "step": 5,
        "name": "MVP Lens",
        "persona": "startup",
        "llm": "claude",
        "context_mode": "previous",
        "prompt_prefix": "You are Startup Vern. What's the MVP here? Cut scope ruthlessly. What can ship in week one? What's a nice-to-have disguised as a must-have? If you're not embarrassed by v1, you shipped too late."
      },
      {
        "step": 6,
        "name": "Consolidation",
        "persona": "mighty",
        "llm": "codex",
        "context_mode": "all_previous",
        "prompt_prefix": "You are MightyVern. Synthesize all inputs into a master plan. Merge insights, resolve contradictions, create unified vision, prioritize features."
      },
      {
        "step": 7,
        "name": "Architect Breakdown",
        "persona": "architect",
        "llm": "claude",
        "context_mode": "consolidation",
        "prompt_prefix": "You are Architect Vern. Your ONLY job is to break down the master plan into numbered implementation tasks. Do NOT write an essay, review, or analysis. Output ONLY a structured task list.\n\nFORMAT REQUIREMENTS (mandatory — the output is machine-parsed):\n- Every task MUST start with exactly: ### TASK N: Title\n- Number tasks sequentially starting at 1\n- Each task MUST include these bold fields:\n  **Description:** what needs to be done\n  **Acceptance Criteria:**\n  - bullet list of done-when conditions\n  **Complexity:** S|M|L|XL\n  **Dependencies:** Task N references or None\n  **Files:** list of files likely touched\n\nExample task:\n### TASK 1: Implement user authentication\n**Description:** Add JWT-based auth middleware\n**Acceptance Criteria:**\n- Login endpoint returns valid JWT\n- Protected routes reject invalid tokens\n**Complexity:** M\n**Dependencies:** None\n**Files:** auth.go, middleware.go, routes.go\n\nProduce 5-15 tasks. Think in systems. Consider failure modes. Make it maintainable."
      }
    ]
  },
  "vernhole": {
    "default_council": "random",
    "min": 3
  }
}
